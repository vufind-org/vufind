<!-- recommend - SUMMONRESULTS.phtml -->
<? $searchObject = $this->recommend->getResults(); $results = $searchObject->getResults(); if (!empty($results)): ?>
  <h4><?=$this->transEsc('Summon Results')?></h4>
  <ul class="side-nav">
    <? foreach ($results as $driver): ?>
      <li>
        <span>
          <? $formats = $driver->getFormats(); $format = isset($formats[0]) ? $formats[0] : ''; ?>
          <a href="<?=$this->recordLink()->getUrl($driver)?>" class="title <?=$this->record($driver)->getFormatClass($format)?>">
            <?=$this->record($driver)->getTitleHtml()?>
          </a>
          <? $summAuthor = $driver->getPrimaryAuthor(); if (!empty($summAuthor)): ?>
          <span class="small">
            <?=$this->transEsc('by')?>
            <a href="<?=$this->record($driver)->getLink('author', $summAuthor)?>">
              <?
                $summHighlightedAuthor = $driver->getHighlightedAuthor();
                echo !empty($summHighlightedAuthor)
                    ? $this->highlight($summHighlightedAuthor)
                    : $this->escapeHtml($summAuthor);
              ?>
            </a>
          </span>
          <? endif; ?>
        </span>
      </li>
    <? endforeach; ?>
    <li>
      <a href="<?=$this->url($searchObject->getOptions()->getSearchAction()) . $searchObject->getUrlQuery()->setLimit($searchObject->getOptions()->getDefaultLimit())?>"><?=$this->transEsc('More Summon results')?>&nbsp;...</a>
    </li>
  </ul>
<? endif ?>
<!-- recommend - SUMMONRESULTS.phtml - end -->