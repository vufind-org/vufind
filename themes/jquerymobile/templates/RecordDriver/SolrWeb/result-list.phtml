<?
    $url = $this->driver->getUrl();
?>
<a rel="external" href="<?=$this->escapeHtmlAttr($url)?>">
  <div class="result">
    <h3><?
      $summHighlightedTitle = $this->driver->getHighlightedTitle();
      $summTitle = $this->driver->getTitle();
      if (!empty($summHighlightedTitle)) {
          echo $this->highlight($this->addEllipsis($summHighlightedTitle, $summTitle));
      } else if (!empty($summTitle)) {
          echo $this->escapeHtml($this->truncate($summTitle, 180));
      } else {
          echo $this->transEsc('Title not available');
      }
    ?></h3>
  </div>
  <? $snippet = $this->driver->getHighlightedSnippet(); ?>
  <? $summary = $this->driver->getSummary(); ?>
  <? if (!empty($snippet)): ?>
    <p><?=$this->highlight($snippet['snippet'])?></p>
  <? elseif (!empty($summary)): ?>
    <p><?=$this->escapeHtml($summary[0])?></p>
  <? endif; ?>
  <span style="color:#008000;" class="ui-li-desc"><?=$this->escapeHtml($url)?></span>
</a>
