<?php
// A driver-specific template may pass in format overrides; check for these before going to the driver itself:
$formats = $this->slot('endnote-formats')->get($this->driver->tryMethod('getFormats'));
$format = '';
$subformat = '';
if (is_array($formats) && !empty($formats[0])) {
    $format = $formats[0];
}
// Default to Book, otherwise some data may be considered invalid
$endnoteFormat = 'Book';
switch ($format) {
case 'academic journal':
case 'review':
    $endnoteFormat = 'Journal Article';
    break;
case 'audio':
    $endnoteFormat = 'Audiovisual Material';
    break;
case 'e-book':
    $endnoteFormat = 'Electronic Book';
    break;
case 'conference material':
    $endnoteFormat = 'Conference Proceedings';
    break;
case 'dissertation':
    $endnoteFormat = 'Thesis';
    break;
case 'magazine':
    $endnoteFormat = 'Magazine Article';
    break;
case 'news':
    $endnoteFormat = 'Newspaper Article';
    break;
case 'periodical':
    $endnoteFormat = 'Journal Article';
    break;
case 'report':
    $endnoteFormat = 'Report';
    break;
case 'video recording':
    $endnoteFormat = 'Audiovisual Material';
    break;
}

echo "%0 $endnoteFormat\n";
