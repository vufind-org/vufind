<?php if ($this->pageCount): ?>
  <ul class="pagination">
    <!-- Previous page link -->
    <?php if (isset($this->previous)): ?>
      <li>
        <?php $newParams = $this->params; $newParams['page'] = $this->previous; ?>
        <a href="<?= $this->currentPath() . '?' . http_build_query($newParams, '', '&amp;'); ?>">
          <span aria-hidden="true">&laquo;</span> <?=$this->transEsc('Prev')?>
        </a>
      </li>
    <?php else: ?>
      <li class="disabled"> <span><span aria-hidden="true">&laquo;</span> <?=$this->transEsc('Prev')?></span></li>
    <?php endif; ?>

    <!-- First page link -->
    <?php if (isset($this->first) && $this->first != $this->current): ?>
      <li>
        <?php $newParams = $this->params; $newParams['page'] = $this->first; ?>
        <a href="<?= $this->currentPath() . '?' . http_build_query($newParams, '', '&amp;'); ?>">
          <?=$this->transEsc('First')?>
        </a>
      </li>
    <?php else: ?>
      <li class="disabled"> <span><?=$this->transEsc('First')?></span></li>
    <?php endif; ?>

    <!-- Numbered page links -->
    <?php foreach ($this->pagesInRange as $page): ?>
      <?php if ($page != $this->current): ?>
        <li>
          <?php $newParams = $this->params; $newParams['page'] = $page; ?>
          <a href="<?= $this->currentPath() . '?' . http_build_query($newParams, '', '&amp;'); ?>">
            <?=$page?>
          </a>
        </li>
      <?php else: ?>
        <li class="active"> <span><?=$page?></span></li>
      <?php endif; ?>
    <?php endforeach; ?>

    <!-- Last page link -->
    <?php if (isset($this->last) && $this->last != $this->current): ?>
      <li>
        <?php $newParams = $this->params; $newParams['page'] = $this->last; ?>
        <a href="<?= $this->currentPath() . '?' . http_build_query($newParams, '', '&amp;'); ?>">
          <?=$this->transEsc('Last')?>
        </a>
      </li>
    <?php else: ?>
      <li class="disabled"> <span><?=$this->transEsc('Last')?></span></li>
    <?php endif; ?>

    <!-- Next page link -->
    <?php if (isset($this->next)): ?>
      <li>
        <?php $newParams = $this->params; $newParams['page'] = $this->next; ?>
        <a href="<?= $this->currentPath() . '?' . http_build_query($newParams, '', '&amp;'); ?>">
          <?=$this->transEsc('Next')?> <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    <?php else: ?>
      <li class="disabled"> <span><?=$this->transEsc('Next')?> <span aria-hidden="true">&raquo;</span></span></li>
    <?php endif; ?>
  </ul>
<?php endif; ?>
