<?php /* Display thumbnail if appropriate: */ ?>
<?php if ($cover): ?>
  <?php $alt = $this->link ? trim($this->driver->tryMethod('getTitle') ?? '') : ''; ?>
  <?php if ($this->link && !empty($alt)): ?><a href="<?=$this->escapeHtmlAttr($this->link)?>"><?php endif; ?>
  <img src="<?=$this->escapeHtmlAttr($cover); ?>" <?php if ($linkPreview): ?>data-linkpreview="true" <?php endif; ?>class="recordcover" alt="<?=$alt; ?>" />
  <?php if ($this->link && !empty($alt)): ?></a><?php endif; ?>
<?php else: ?>
    <div class="ajaxcover">
        <div><i class="fa fa-spinner fa-spin"></i> <?=$this->translate('Cover is loading')?></div>
        <img <?php if ($linkPreview): ?>data-linkpreview="true" <?php endif; ?>data-recordsource="<?=$driver->getSourceIdentifier()?>" data-recordid="<?=$driver->getUniqueID()?>" data-coversize="<?=$size?>" class="recordcover ajax" alt="" />
    </div>
<?php endif; ?>
