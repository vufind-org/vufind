<?php $limitList = $this->params->getLimitList(); ?>
<?php if (count($limitList) > 1): ?>
  <form class="form-inline search-result-limit" action="<?=$this->currentPath() . $this->results->getUrlQuery()->setLimit(null)?>" method="get">
    <?=$this->results->getUrlQuery()->asHiddenFields(['sort' => '/.*/']);?>
    <label for="limit"><?=$this->transEsc('Results per page')?></label>
    <select id="limit" name="limit" class="form-control">
      <?php foreach ($limitList as $limitVal => $limitData): ?>
        <option value="<?=$this->escapeHtmlAttr($limitVal)?>"<?=$limitData['selected']?' selected="selected"':''?>><?=$this->escapeHtml($limitData['desc'])?></option>
      <?php endforeach; ?>
    </select>
    <noscript><input type="submit" value="<?=$this->transEscAttr("Set")?>" /></noscript>
    <button type="submit" class="btn btn-primary" aria-label="<?=$this->transEsc("Set")?>">
      <i class="fa fa-refresh" aria-hidden="true"></i>
    </button>
  </form>
<?php endif; ?>
